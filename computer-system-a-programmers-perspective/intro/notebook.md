## 问题
1。 内核态和用户态到底是什么，切换了什么东西？有什么开销。怎么才算从用户态到了内核态了？


## 虚拟内存

```
--------------------   N 高地址
内核虚拟内存        |
---------------------
用户栈（运行时创建）|
=====================
共享库的内存映射区域|  printf函数
=====================
运行时堆            |
在运行时由malloc创建|
---------------------  从hello可执行文件加载进来
读/写数据           |
---------------------
只读的代码和数据    |
=====================  0 低地址

```

- 程序代码和数据： 代码的二进制数据 与 C全局变量
- 堆： 动态扩展内存与收缩内存
- 共享库：地址空间的中间，放了C标准库函数
- 栈： 位于用户虚拟空间顶部的用户栈，编译器用它来实现**函数调用**，动态扩展与收缩
- 内核虚拟内存：内核代码和用户所写的代码没有区别，只是这部分代码你不能直接修改/查看。你必须通过内核调用的方式，让内核来处理这部分的代码


## 文件
文件就是字节序列！！！我不管你是什么硬件。总之对我来说，你就是能够写和读的字节序列。这个思想有点和go的接口类似


## 抽象的重要性
1. 文件是对I/O设备的抽象
2. 虚拟内存是对程序存储器的抽象
3. 进程是对正在运行的程序的抽象


```
```
