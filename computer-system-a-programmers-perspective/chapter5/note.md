# 优化程序性能

写程序最主要的目标就是能够正确工作，简洁的程序才能方便别人读懂代码。另外一方面。很多请开给你下，让程序运行的快
也是一个重要的考虑因素。如果一个程序要实时的处理视频帧或者网络包。一个运行很慢的程序就不能提供所需的功能。当一个
计算任务的计算非常大，需要执行输入或者数周，那么哪怕是让他运行的快20%也会产生重大的影响。编写高效的程序需要做到
以下的几点
- 选择合适的算法和数据结构
- 必须编写编译器能偶有效优化转化成高效可执行代码的源代码
- 在多处理器组合进行并行运算



## 程序性能的表示
CPE(Cycles Per Element),作为表示程序性能并指导我们该进程序性能的方法。用时钟周期来表示，度量值表示执行了多少条指令。
而不是时钟运行的有多快。许多过程包含有在一组元素上迭代的循环，比如下面这段代码
```
void psum1(float a[], float p[], long n) {
		long i ;
		p[0] = a[0];
		for (i = 1; i < n; i++)
				p[i] = p[i-1] + a[i];
}


void psum2(float a[], float p[], long n) {
		long i;
		p[0] = a[0];
		for (i=1; i<n-1; i+=2) {
				float mid_val = p[i-1] + a[i];
				p[i] = mid_val;
				p[i+1] = mid_val + a[i+1];
		}

		if (i < n) {
				p[i] = p[i-1] + a[i];

		}
}
```
psum1的始终周期约为368 + 9n。而psum2的时钟周期约为368 + 6n.我们称PSUM2的CPE为6.0. PSUM1的CPE为9.0.

